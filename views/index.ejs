<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nội Thất Cao Cấp - Trang Chủ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #8B7355;
            --secondary-color: #D4BFA8;
            --accent-color: #A67C52;
            --dark-color: #2C2C2C;
            --light-color: #F8F5F2;
            --gray-color: #E5E5E5;
            --text-color: #333333;
            --white: #FFFFFF;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            color: var(--text-color);
            background-color: var(--white);
            line-height: 1.6;
        }

        h1, h2, h3, h4, h5 {
            font-family: 'Playfair Display', serif;
            font-weight: 600;
            color: var(--dark-color);
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: var(--transition);
        }

        ul {
            list-style: none;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .btn {
            display: inline-block;
            padding: 12px 28px;
            border-radius: 4px;
            font-weight: 500;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-family: 'Montserrat', sans-serif;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: var(--white);
        }

        .btn-primary:hover {
            background-color: var(--accent-color);
        }

        .btn-outline {
            background-color: transparent;
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
        }

        .btn-outline:hover {
            background-color: var(--primary-color);
            color: var(--white);
        }

        /* Header Styles */
        header {
            background-color: var(--white);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .top-bar {
            background-color: var(--dark-color);
            color: var(--white);
            padding: 8px 0;
            font-size: 14px;
        }

        .top-bar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .top-bar-links a {
            margin-left: 20px;
        }

        .top-bar-links a:hover {
            color: var(--secondary-color);
        }

        .main-header {
            padding: 15px 0;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 28px;
            font-weight: 700;
            color: var(--primary-color);
        }

        .search-bar {
            flex: 1;
            max-width: 500px;
            margin: 0 30px;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 12px 20px;
            border: 1px solid var(--gray-color);
            border-radius: 30px;
            font-size: 14px;
            outline: none;
        }

        .search-bar button {
            position: absolute;
            right: 5px;
            top: 5px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            cursor: pointer;
        }

        .header-actions {
            display: flex;
            align-items: center;
        }

        .header-action {
            margin-left: 20px;
            position: relative;
            cursor: pointer;
        }

        .header-action i {
            font-size: 20px;
            color: var(--dark-color);
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        nav {
            background-color: var(--light-color);
            border-top: 1px solid var(--gray-color);
        }

        .nav-links {
            display: flex;
            justify-content: center;
        }

        .nav-links li {
            position: relative;
        }

        .nav-links a {
            display: block;
            padding: 15px 20px;
            font-weight: 500;
            transition: var(--transition);
        }

        .nav-links a:hover {
            color: var(--primary-color);
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background-color: var(--white);
            min-width: 200px;
            box-shadow: var(--shadow);
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: var(--transition);
            z-index: 100;
        }

        .nav-links li:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-menu a {
            padding: 12px 20px;
            border-bottom: 1px solid var(--gray-color);
        }

        .dropdown-menu a:last-child {
            border-bottom: none;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://images.unsplash.com/photo-1493663284031-b7e3aefcae8e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80');
            background-size: cover;
            background-position: center;
            color: var(--white);
            padding: 120px 0;
            text-align: center;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 48px;
            margin-bottom: 20px;
            color: var(--white);
        }

        .hero p {
            font-size: 18px;
            margin-bottom: 30px;
        }

        /* Categories Section */
        .section {
            padding: 80px 0;
        }

        .section-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .section-title {
            font-size: 36px;
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background-color: var(--primary-color);
        }

        .section-subtitle {
            color: #666;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Sửa lại grid cho 6 danh mục - 3 cột mỗi hàng */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
        }

        @media (max-width: 992px) {
            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 576px) {
            .categories-grid {
                grid-template-columns: 1fr;
            }
        }

        .category-card {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .category-card:hover {
            transform: translateY(-10px);
        }

        .category-img {
            height: 200px;
            overflow: hidden;
        }

        .category-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .category-card:hover .category-img img {
            transform: scale(1.1);
        }

        .category-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
            color: white;
            padding: 20px;
        }

        .category-content h3 {
            color: white;
            margin-bottom: 5px;
        }

        /* Featured Products */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }

        .product-card {
            background-color: var(--white);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.12);
        }

        .product-img {
            height: 220px;
            overflow: hidden;
            position: relative;
        }

        .product-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: var(--primary-color);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        .product-actions {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            flex-direction: column;
            opacity: 0;
            transition: var(--transition);
        }

        .product-card:hover .product-actions {
            opacity: 1;
        }

        .product-action {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: var(--transition);
        }

        .product-action:hover {
            background-color: var(--primary-color);
            color: white;
        }

        .product-content {
            padding: 20px;
        }

        .product-category {
            color: #666;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .product-title {
            font-size: 18px;
            margin-bottom: 10px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .product-price {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .current-price {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-color);
        }

        .original-price {
            font-size: 14px;
            color: #999;
            text-decoration: line-through;
            margin-left: 10px;
        }

        .product-rating {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .stars {
            color: #FFC107;
            margin-right: 5px;
        }

        .rating-count {
            font-size: 14px;
            color: #666;
        }

        /* About Section */
        .about {
            background-color: var(--light-color);
        }

        .about-content {
            display: flex;
            align-items: center;
            gap: 50px;
        }

        .about-img {
            flex: 1;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .about-text {
            flex: 1;
        }

        .about-text h2 {
            font-size: 36px;
            margin-bottom: 20px;
        }

        .about-text p {
            margin-bottom: 20px;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 30px;
        }

        .feature {
            display: flex;
            align-items: flex-start;
        }

        .feature-icon {
            background-color: var(--primary-color);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            flex-shrink: 0;
        }

        /* Testimonials */
        .testimonials-slider {
            position: relative;
            overflow: hidden;
        }

        .testimonials-container {
            display: flex;
            transition: transform 0.5s ease;
        }

        .testimonial {
            min-width: 100%;
            padding: 0 20px;
            text-align: center;
        }

        .testimonial-content {
            background-color: var(--white);
            padding: 30px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            position: relative;
        }

        .testimonial-content::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid var(--white);
        }

        .testimonial-text {
            font-style: italic;
            margin-bottom: 20px;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .author-img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 15px;
        }

        .author-info h4 {
            margin-bottom: 5px;
        }

        .author-info p {
            color: #666;
            font-size: 14px;
        }

        .slider-controls {
            display: flex;
            justify-content: center;
            margin-top: 30px;
        }

        .slider-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: var(--gray-color);
            margin: 0 5px;
            cursor: pointer;
            transition: var(--transition);
        }

        .slider-dot.active {
            background-color: var(--primary-color);
        }

        /* Newsletter */
        .newsletter {
            background-color: var(--dark-color);
            color: var(--white);
            text-align: center;
            padding: 60px 0;
        }

        .newsletter h2 {
            color: var(--white);
            margin-bottom: 15px;
        }

        .newsletter p {
            max-width: 600px;
            margin: 0 auto 30px;
        }

        .newsletter-form {
            max-width: 500px;
            margin: 0 auto;
            display: flex;
        }

        .newsletter-form input {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 4px 0 0 4px;
            outline: none;
        }

        .newsletter-form button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0 25px;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            transition: var(--transition);
        }

        .newsletter-form button:hover {
            background-color: var(--accent-color);
        }

        /* Footer */
        footer {
            background-color: var(--dark-color);
            color: var(--white);
            padding: 60px 0 0;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h3 {
            color: var(--white);
            margin-bottom: 20px;
            font-size: 18px;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a:hover {
            color: var(--secondary-color);
        }

        .contact-info li {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .contact-info i {
            margin-right: 10px;
            color: var(--secondary-color);
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-link {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .social-link:hover {
            background-color: var(--primary-color);
        }

        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding: 20px 0;
            text-align: center;
            font-size: 14px;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .header-content {
                flex-wrap: wrap;
            }
            
            .search-bar {
                order: 3;
                max-width: 100%;
                margin: 15px 0 0;
            }
            
            .about-content {
                flex-direction: column;
            }
            
            .footer-content {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                flex-direction: column;
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .hero h1 {
                font-size: 36px;
            }
            
            .section-title {
                font-size: 28px;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="top-bar">
            <div class="container">
                <div class="top-bar-content">
                    <div class="welcome-text">Chào mừng đến với Nội Thất Cao Cấp</div>
                    <div class="top-bar-links">
                        <a href="#"><i class="fas fa-phone"></i> 0123 456 789</a>
                        <a href="#"><i class="fas fa-envelope"></i> contact@noithat.com</a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="main-header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">Nội Thất Cao Cấp</div>
                    
                    <div class="search-bar">
                        <form action="/search" method="GET">
                            <input type="text" name="search" placeholder="Tìm kiếm sản phẩm...">
                            <button type="submit"><i class="fas fa-search"></i></button>
                        </form>
                    </div>
                    
                    <div class="header-actions">
                        <div class="header-action">
                            <% if(customer) { %>
                                <a href="/profile"><i class="fas fa-user"></i></a>
                            <% } else { %>
                                <a href="/login"><i class="fas fa-user"></i></a>
                            <% } %>
                        </div>
                        <div class="header-action">
                            <a href="/favorite"><i class="fas fa-heart"></i></a>
                        </div>
                        <div class="header-action">
                            <a href="/cart"><i class="fas fa-shopping-cart"></i>
                                <% if(customer && customer.listProduct && customer.listProduct.length > 0) { %>
                                    <span class="cart-count"><%= customer.listProduct.length %></span>
                                <% } else { %>
                                    <span class="cart-count">0</span>
                                <% } %>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <nav>
            <div class="container">
                <ul class="nav-links">
                    <li><a href="/">Trang Chủ</a></li>
                    <li>
                        <a href="#">Sản Phẩm <i class="fas fa-chevron-down"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="/product">Tất Cả Sản Phẩm</a></li>
                            <!-- Dynamic categories from database -->
                            <% if(data && data.length > 0) { %>
                                <% data.forEach(function(type) { %>
                                    <% if(type.status == 1) { %>
                                        <li><a href="/categories/<%= type._id %>"><%= type.typeName %></a></li>
                                    <% } %>
                                <% }); %>
                            <% } else { %>
                                <!-- Fallback categories if no data -->
                                <li><a href="#">Bàn</a></li>
                                <li><a href="#">Ghế</a></li>
                                <li><a href="#">Tủ</a></li>
                                <li><a href="#">Giường</a></li>
                            <% } %>
                        </ul>
                    </li>
                    <li><a href="#">Bộ Sưu Tập</a></li>
                    <li><a href="#">Về Chúng Tôi</a></li>
                    <li><a href="#">Liên Hệ</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>Nâng Tầm Không Gian Sống</h1>
                <p>Khám phá bộ sưu tập nội thất cao cấp với thiết kế tinh tế, chất lượng vượt trội và giá cả hợp lý</p>
                <a href="/product" class="btn btn-primary">Mua Sắm Ngay</a>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Danh Mục Sản Phẩm</h2>
                <p class="section-subtitle">Khám phá các danh mục nội thất đa dạng cho mọi không gian sống</p>
            </div>
            
            <div class="categories-grid">
                <!-- Dynamic categories from database -->
                <% if(data && data.length > 0) { %>
                    <% data.forEach(function(type) { %>
                        <% if(type.status == 1) { %>
                            <div class="category-card">
                                <div class="category-img">
                                    <% if(type.thumbnail) { %>
                                        <img src="<%= type.thumbnail %>" alt="<%= type.typeName %>" onerror="this.src='https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80'">
                                    <% } else { %>
                                        <!-- Fallback images based on category name -->
                                        <% 
                                        let fallbackImage = "";
                                        switch(type.typeName.toLowerCase()) {
                                            case 'bàn':
                                                fallbackImage = "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1558&q=80";
                                                break;
                                            case 'ghế':
                                                fallbackImage = "https://images.unsplash.com/photo-1503602642458-232111445657?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80";
                                                break;
                                            case 'tủ':
                                                fallbackImage = "https://images.unsplash.com/photo-1494438639946-1ebd1d20bf85?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1467&q=80";
                                                break;
                                            case 'giường':
                                                fallbackImage = "https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80";
                                                break;
                                            case 'đèn':
                                                fallbackImage = "https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1471&q=80";
                                                break;
                                            case 'phụ kiện trang trí':
                                                fallbackImage = "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1558&q=80";
                                                break;
                                            default:
                                                fallbackImage = "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80";
                                        }
                                        %>
                                        <img src="<%= fallbackImage %>" alt="<%= type.typeName %>">
                                    <% } %>
                                </div>
                                <div class="category-content">
                                    <h3><%= type.typeName %></h3>
                                    <p>
                                        <% 
                                        // Số lượng sản phẩm sẽ được tính từ controller
                                        // Hiện tại dùng placeholder
                                        let productCount = Math.floor(Math.random() * 20) + 5;
                                        %>
                                        <%= productCount %> sản phẩm
                                    </p>
                                </div>
                            </div>
                        <% } %>
                    <% }); %>
                <% } else { %>
                    <!-- Fallback categories if no data from database -->
                    <div class="category-card">
                        <div class="category-img">
                            <img src="https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1558&q=80" alt="Bàn">
                        </div>
                        <div class="category-content">
                            <h3>Bàn</h3>
                            <p>15 sản phẩm</p>
                        </div>
                    </div>
                    
                    <div class="category-card">
                        <div class="category-img">
                            <img src="https://images.unsplash.com/photo-1503602642458-232111445657?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" alt="Ghế">
                        </div>
                        <div class="category-content">
                            <h3>Ghế</h3>
                            <p>12 sản phẩm</p>
                        </div>
                    </div>
                    
                    <div class="category-card">
                        <div class="category-img">
                            <img src="https://images.unsplash.com/photo-1494438639946-1ebd1d20bf85?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1467&q=80" alt="Tủ">
                        </div>
                        <div class="category-content">
                            <h3>Tủ</h3>
                            <p>10 sản phẩm</p>
                        </div>
                    </div>
                    
                    <div class="category-card">
                        <div class="category-img">
                            <img src="https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Giường">
                        </div>
                        <div class="category-content">
                            <h3>Giường</h3>
                            <p>8 sản phẩm</p>
                        </div>
                    </div>
                <% } %>
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="section" style="background-color: var(--light-color);">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Sản Phẩm Nổi Bật</h2>
                <p class="section-subtitle">Khám phá những sản phẩm được yêu thích nhất của chúng tôi</p>
            </div>
            
            <div class="products-grid">
                <!-- Dynamic featured products from database -->
                <% if(featuredProducts && featuredProducts.length > 0) { %>
                    <% featuredProducts.forEach(function(product) { %>
                        <% if(product.description.status) { %>
                            <div class="product-card">
                                <div class="product-img">
                                    <% if(product.description.imageList && product.description.imageList.length > 0) { %>
                                        <img src="<%= product.description.imageList[0] %>" alt="<%= product.productName %>" onerror="this.src='https://images.unsplash.com/photo-1555041469-a586c61ea9bc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80'">
                                    <% } else { %>
                                        <img src="https://images.unsplash.com/photo-1555041469-a586c61ea9bc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="<%= product.productName %>">
                                    <% } %>
                                    
                                    <!-- Hiển thị badge nếu có giảm giá -->
                                    <% if(product.discount && product.discount.state !== 'none' && product.discount.discountPercent > 0) { %>
                                        <div class="product-badge">Giảm <%= product.discount.discountPercent %>%</div>
                                    <% } else if(product.description.featured) { %>
                                        <div class="product-badge">Nổi bật</div>
                                    <% } %>
                                    
                                    <div class="product-actions">
                                        <div class="product-action" onclick="addToFavorite('<%= product._id %>')">
                                            <i class="fas fa-heart"></i>
                                        </div>
                                        <div class="product-action" onclick="viewProduct('<%= product._id %>')">
                                            <i class="fas fa-eye"></i>
                                        </div>
                                        <div class="product-action" onclick="addToCart('<%= product._id %>')">
                                            <i class="fas fa-shopping-cart"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="product-content">
                                    <!-- Hiển thị tên danh mục -->
                                    <% 
                                    let categoryName = "Nội thất";
                                    if(data && data.length > 0) {
                                        let category = data.find(t => t._id.toString() === product.description.typeCode);
                                        if(category) categoryName = category.typeName;
                                    }
                                    %>
                                    <div class="product-category"><%= categoryName %></div>
                                    <h3 class="product-title"><%= product.productName %></h3>
                                    <div class="product-price">
                                        <% 
                                        let currentPrice = parseInt(product.description.price);
                                        let originalPrice = currentPrice;
                                        
                                        // Tính giá sau giảm nếu có
                                        if(product.discount && product.discount.state !== 'none' && product.discount.discountPercent > 0) {
                                            originalPrice = currentPrice;
                                            currentPrice = currentPrice * (1 - product.discount.discountPercent / 100);
                                        }
                                        %>
                                        <span class="current-price"><%= currentPrice.toLocaleString('vi-VN') %>đ</span>
                                        <% if(originalPrice !== currentPrice) { %>
                                            <span class="original-price"><%= originalPrice.toLocaleString('vi-VN') %>đ</span>
                                        <% } %>
                                    </div>
                                    <div class="product-rating">
                                        <div class="stars">
                                            <% 
                                            let rating = product.rating && product.rating.average ? product.rating.average : 0;
                                            let fullStars = Math.floor(rating);
                                            let hasHalfStar = rating % 1 >= 0.5;
                                            let emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
                                            
                                            for(let i = 0; i < fullStars; i++) { %>
                                                <i class="fas fa-star"></i>
                                            <% } %>
                                            <% if(hasHalfStar) { %>
                                                <i class="fas fa-star-half-alt"></i>
                                            <% } %>
                                            <% for(let i = 0; i < emptyStars; i++) { %>
                                                <i class="far fa-star"></i>
                                            <% } %>
                                        </div>
                                        <span class="rating-count">
                                            (<%= product.rating && product.rating.count ? product.rating.count : 0 %>)
                                        </span>
                                    </div>
                                </div>
                            </div>
                        <% } %>
                    <% }); %>
                <% } else { %>
                    <!-- Fallback products if no data -->
                    <div class="product-card">
                        <div class="product-img">
                            <img src="https://images.unsplash.com/photo-1555041469-a586c61ea9bc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Sofa da cao cấp">
                            <div class="product-badge">Bán Chạy</div>
                            <div class="product-actions">
                                <div class="product-action"><i class="fas fa-heart"></i></div>
                                <div class="product-action"><i class="fas fa-eye"></i></div>
                                <div class="product-action"><i class="fas fa-shopping-cart"></i></div>
                            </div>
                        </div>
                        <div class="product-content">
                            <div class="product-category">Phòng khách</div>
                            <h3 class="product-title">Sofa Da Cao Cấp</h3>
                            <div class="product-price">
                                <span class="current-price">12.990.000đ</span>
                                <span class="original-price">15.990.000đ</span>
                            </div>
                            <div class="product-rating">
                                <div class="stars">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star-half-alt"></i>
                                </div>
                                <span class="rating-count">(24)</span>
                            </div>
                        </div>
                    </div>
                <% } %>
            </div>
            
            <div style="text-align: center; margin-top: 40px;">
                <a href="/product" class="btn btn-outline">Xem Tất Cả Sản Phẩm</a>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="section about">
        <div class="container">
            <div class="about-content">
                <div class="about-img">
                    <img src="https://images.unsplash.com/photo-1583847268964-b28dc8f51f92?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" alt="Về chúng tôi">
                </div>
                <div class="about-text">
                    <h2>Về Chúng Tôi</h2>
                    <p>Với hơn 10 năm kinh nghiệm trong ngành nội thất, chúng tôi tự hào mang đến những sản phẩm chất lượng cao, thiết kế tinh tế và dịch vụ chuyên nghiệp.</p>
                    <p>Đội ngũ thiết kế của chúng tôi luôn sáng tạo không ngừng để tạo ra những sản phẩm độc đáo, phù hợp với mọi không gian sống và làm việc.</p>
                    
                    <div class="features">
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-award"></i>
                            </div>
                            <div class="feature-text">
                                <h4>Chất Lượng Cao</h4>
                                <p>Sản phẩm được làm từ vật liệu cao cấp, bền đẹp theo thời gian</p>
                            </div>
                        </div>
                        
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-shipping-fast"></i>
                            </div>
                            <div class="feature-text">
                                <h4>Giao Hàng Nhanh</h4>
                                <p>Miễn phí giao hàng trong nội thành với đơn hàng từ 5 triệu</p>
                            </div>
                        </div>
                        
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-headset"></i>
                            </div>
                            <div class="feature-text">
                                <h4>Hỗ Trợ 24/7</h4>
                                <p>Đội ngũ tư vấn luôn sẵn sàng hỗ trợ khách hàng mọi lúc</p>
                            </div>
                        </div>
                        
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-undo-alt"></i>
                            </div>
                            <div class="feature-text">
                                <h4>Đổi Trả Dễ Dàng</h4>
                                <p>Chính sách đổi trả linh hoạt trong vòng 30 ngày</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Khách Hàng Nói Gì</h2>
                <p class="section-subtitle">Những phản hồi tích cực từ khách hàng đã trải nghiệm dịch vụ của chúng tôi</p>
            </div>
            
            <div class="testimonials-slider">
                <div class="testimonials-container">
                    <div class="testimonial">
                        <div class="testimonial-content">
                            <p class="testimonial-text">"Tôi rất hài lòng với chiếc sofa tôi mua từ cửa hàng. Chất liệu da thật rất bền và thoải mái. Dịch vụ tư vấn cũng rất chuyên nghiệp."</p>
                        </div>
                        <div class="testimonial-author">
                            <div class="author-img">
                                <img src="https://randomuser.me/api/portraits/women/65.jpg" alt="Chị Lan">
                            </div>
                            <div class="author-info">
                                <h4>Chị Lan</h4>
                                <p>Khách hàng thân thiết</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="slider-controls">
                    <div class="slider-dot active"></div>
                    <div class="slider-dot"></div>
                    <div class="slider-dot"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter -->
    <section class="newsletter">
        <div class="container">
            <h2>Đăng Ký Nhận Tin</h2>
            <p>Đăng ký để nhận thông tin về sản phẩm mới, khuyến mãi đặc biệt và các sự kiện sắp tới</p>
            
            <form class="newsletter-form">
                <input type="email" placeholder="Nhập email của bạn">
                <button type="submit">Đăng Ký</button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Nội Thất Cao Cấp</h3>
                    <p>Chuyên cung cấp các sản phẩm nội thất cao cấp với thiết kế tinh tế, chất lượng vượt trội.</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-pinterest"></i></a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>Liên Kết Nhanh</h3>
                    <ul class="footer-links">
                        <li><a href="/">Trang Chủ</a></li>
                        <li><a href="/product">Sản Phẩm</a></li>
                        <li><a href="#">Bộ Sưu Tập</a></li>
                        <li><a href="#">Về Chúng Tôi</a></li>
                        <li><a href="#">Liên Hệ</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Danh Mục</h3>
                    <ul class="footer-links">
                        <!-- Dynamic categories from database -->
                        <% if(data && data.length > 0) { %>
                            <% data.forEach(function(type) { %>
                                <% if(type.status == 1) { %>
                                    <li><a href="/categories/<%= type._id %>"><%= type.typeName %></a></li>
                                <% } %>
                            <% }); %>
                        <% } else { %>
                            <!-- Fallback categories if no data -->
                            <li><a href="#">Bàn</a></li>
                            <li><a href="#">Ghế</a></li>
                            <li><a href="#">Tủ</a></li>
                            <li><a href="#">Giường</a></li>
                            <li><a href="#">Đèn</a></li>
                        <% } %>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Liên Hệ</h3>
                    <ul class="contact-info">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>123 Đường ABC, Quận 1, TP.HCM</span>
                        </li>
                        <li>
                            <i class="fas fa-phone"></i>
                            <span>0123 456 789</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span>contact@noithat.com</span>
                        </li>
                        <li>
                            <i class="fas fa-clock"></i>
                            <span>Thứ 2 - Chủ Nhật: 8:00 - 22:00</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2023 Nội Thất Cao Cấp. Tất cả các quyền được bảo lưu.</p>
            </div>
        </div>
    </footer>

    <script>
        // Simple slider functionality
document.addEventListener('DOMContentLoaded', function() {
    const dots = document.querySelectorAll('.slider-dot');
    
    dots.forEach((dot, index) => {
        dot.addEventListener('click', function() {
            // Remove active class from all dots
            dots.forEach(d => d.classList.remove('active'));
            // Add active class to clicked dot
            this.classList.add('active');
            
            // In a real implementation, this would move the slider
            // For now, we'll just log the index
            console.log(`Slide ${index + 1} selected`);
        });
    });

    // Khởi tạo dữ liệu từ server
    initializeAppData();
});

// Hàm khởi tạo dữ liệu từ server
function initializeAppData() {
    // Gọi API để lấy thông tin user
    fetch('/api/user-info')
        .then(response => response.json())
        .then(data => {
            updateUIWithUserData(data);
        })
        .catch(error => {
            console.error('Error fetching user data:', error);
        });
}

// Cập nhật UI với dữ liệu user
function updateUIWithUserData(userData) {
    const appDataElement = document.getElementById('app-data');
    
    if (userData.isAuthenticated && userData.customer) {
        // Cập nhật data attributes
        appDataElement.setAttribute('data-is-authenticated', 'true');
        appDataElement.setAttribute('data-customer', JSON.stringify(userData.customer));
        
        // Cập nhật UI
        document.getElementById('user-profile-link').href = '/profile';
        document.getElementById('cart-count').textContent = userData.customer.listProduct ? userData.customer.listProduct.length : 0;
    } else {
        appDataElement.setAttribute('data-is-authenticated', 'false');
        appDataElement.setAttribute('data-customer', 'null');
        document.getElementById('user-profile-link').href = '/login';
        document.getElementById('cart-count').textContent = '0';
    }
}

// Helper function để kiểm tra authentication
function isUserAuthenticated() {
    const appDataElement = document.getElementById('app-data');
    return appDataElement.getAttribute('data-is-authenticated') === 'true';
}

// Helper function để lấy thông tin customer
function getCustomerData() {
    const appDataElement = document.getElementById('app-data');
    const customerData = appDataElement.getAttribute('data-customer');
    return customerData && customerData !== 'null' ? JSON.parse(customerData) : null;
}

// Product action functions
function addToFavorite(productId) {
    if(isUserAuthenticated()) {
        // Gọi API thêm vào yêu thích
        fetch(`/product/favorite/${productId}`, { method: 'GET' })
            .then(response => {
                if(response.ok) {
                    alert('Đã thêm vào danh sách yêu thích!');
                }
            })
            .catch(error => console.error('Error:', error));
    } else {
        window.location.href = '/login';
    }
}

function viewProduct(productId) {
    window.location.href = `/product/${productId}`;
}

function addToCart(productId) {
    if(isUserAuthenticated()) {
        // Gọi API thêm vào giỏ hàng
        fetch(`/cart/${productId}`, { method: 'GET' })
            .then(response => {
                if(response.ok) {
                    alert('Đã thêm vào giỏ hàng!');
                    // Cập nhật số lượng giỏ hàng
                    updateCartCount();
                }
            })
            .catch(error => console.error('Error:', error));
    } else {
        window.location.href = '/login';
    }
}

// Cập nhật số lượng giỏ hàng
function updateCartCount() {
    fetch('/api/cart-count')
        .then(response => response.json())
        .then(data => {
            document.getElementById('cart-count').textContent = data.count;
        })
        .catch(error => console.error('Error:', error));
}
    </script>
</body>
</html>